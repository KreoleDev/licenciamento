{"type":"component","scope":"page","pagePath":"establishment","pageName":"establishment","description":"Form Establishment","name":"formEstablishment","id":"shp7ivz82d","args":[{"id":"1","name":"isSubmitting","type":"boolean","isList":false,"isOptional":false,"isInterface":false,"isFunction":false,"isState":false,"functionParameters":[]},{"id":"2","name":"initialData","type":"any","isList":false,"isOptional":true,"isInterface":false,"isFunction":false,"isState":false,"functionParameters":[]},{"id":"3","name":"onAfterSubmit","type":"void","isList":false,"isOptional":false,"isInterface":false,"isFunction":true,"isState":false,"functionParameters":[]}],"components":{"id":"component_7jpzih","componentName":"component","label":"component","properties":{"commonProperties":{"generateReference":false}},"children":[{"id":"form_6iuo81","tag":"form1","componentName":"form","label":"Form","type":"group","children":[{"id":"card_licft2","tag":"card1","componentName":"card","label":"Card","type":"group","children":[{"id":"cardheader_veylek","tag":"cardHeader1","componentName":"cardHeader","label":"Card Header","children":[],"interactions":{},"allowTypes":false,"data":{},"properties":{"commonProperties":{}}},{"id":"cardcontent_edojqi","tag":"cardContent1","componentName":"cardContent","label":"Card Content","children":[{"id":"grid_11cixz","tag":"grid1","componentName":"grid","label":"Grid","children":[{"id":"inputtext_96wez9","tag":"codigo","componentName":"inputText","label":"Input Text","type":"group","children":[],"interactions":{},"allowTypes":false,"data":{},"properties":{"label":"Código","iconProperties":{"showIcon":false},"required":false,"dataProperties":{"isVirtual":false,"isType":true},"commonProperties":{"generateReference":false},"placeholder":"EST001"},"childProperties":{}},{"id":"inputtext_iwrvyx","tag":"nome","componentName":"inputText","label":"Input Text","type":"group","children":[],"interactions":{},"allowTypes":false,"data":{},"properties":{"label":"Nome","iconProperties":{"showIcon":false},"required":false,"dataProperties":{"isVirtual":false,"isType":true},"commonProperties":{"generateReference":false},"placeholder":"Nome do estabelecimento"},"childProperties":{}},{"id":"combobox_ndgxzj","tag":"tipoAtividadeId","componentName":"combobox","label":"Combobox","type":"group","children":[],"interactions":{"onChange":{"type":"function","function":{"fnCustomSet":"() => {}","type":"function"},"action":{}}},"allowTypes":false,"data":{"options":{"state":{"id":"","type":"IGRPOptionsProps[]","name":"select{{id}}Options","defaultValue":"[]","imports":[],"generate":true}}},"properties":{"label":"Atividade","variant":"single","placeholder":"Select an option...","selectLabel":"No option found","showSearch":true,"iconProperties":{"showIcon":false,"iconName":"CornerDownRight"},"dataProperties":{"isVirtual":false,"isType":true},"commonProperties":{"generateReference":false},"options":[]},"childProperties":{}},{"id":"combobox_0cdu3r","tag":"classeId","componentName":"combobox","label":"Combobox","type":"group","children":[],"interactions":{"onChange":{"type":"function","function":{"fnCustomSet":"() => {}","type":"function"},"action":{}}},"allowTypes":false,"data":{"options":{"state":{"id":"","type":"IGRPOptionsProps[]","name":"select{{id}}Options","defaultValue":"[]","imports":[],"generate":true}}},"properties":{"label":"Classes","variant":"single","placeholder":"Select an option...","selectLabel":"No option found","showSearch":true,"iconProperties":{"showIcon":false,"iconName":"CornerDownRight"},"dataProperties":{"isVirtual":false,"isType":true},"commonProperties":{"generateReference":false},"options":[]},"childProperties":{}},{"id":"inputtext_urqkbg","tag":"endereco","componentName":"inputText","label":"Input Text","type":"group","children":[],"interactions":{},"allowTypes":false,"data":{},"properties":{"label":"Endereço","iconProperties":{"showIcon":false},"required":false,"dataProperties":{"isVirtual":false,"isType":true},"commonProperties":{"generateReference":false},"placeholder":"rua, cidade, numero"},"childProperties":{}},{"id":"inputtext_90xyup","tag":"telefone","componentName":"inputText","label":"Input Text","type":"group","children":[],"interactions":{},"allowTypes":false,"data":{},"properties":{"label":"Telefone","iconProperties":{"showIcon":false},"required":false,"dataProperties":{"isVirtual":false,"isType":true},"commonProperties":{"generateReference":false},"placeholder":""},"childProperties":{}},{"id":"inputtext_uuwtkh","tag":"email","componentName":"inputText","label":"Input Text","type":"group","children":[],"interactions":{},"allowTypes":false,"data":{},"properties":{"label":"Email","iconProperties":{"showIcon":false},"required":false,"dataProperties":{"isVirtual":false,"isType":true},"commonProperties":{"generateReference":false},"placeholder":"exemplo@gmail.com"},"childProperties":{}},{"id":"inputtext_ki32sk","tag":"nif","componentName":"inputText","label":"Input Text","type":"group","children":[],"interactions":{},"allowTypes":false,"data":{},"properties":{"label":"NIF","iconProperties":{"showIcon":false},"required":false,"dataProperties":{"isVirtual":false,"isType":true},"commonProperties":{"generateReference":false},"placeholder":""},"childProperties":{}},{"id":"combobox_mqqphu","tag":"gerente","componentName":"combobox","label":"Combobox","type":"group","children":[],"interactions":{"onChange":{"type":"function","function":{"fnCustomSet":"() => {}","type":"function"},"action":{}}},"allowTypes":false,"data":{"options":{"state":{"id":"","type":"IGRPOptionsProps[]","name":"select{{id}}Options","defaultValue":"[]","imports":[],"generate":true}}},"properties":{"label":"Gerente","variant":"single","placeholder":"Select an option...","selectLabel":"No option found","showSearch":true,"iconProperties":{"showIcon":false,"iconName":"CornerDownRight"},"dataProperties":{"isVirtual":false,"isType":true},"commonProperties":{"generateReference":false},"options":[]},"childProperties":{}},{"id":"combobox_sn9hc0","tag":"estadoDesc","componentName":"combobox","label":"Combobox","type":"group","children":[],"interactions":{"onChange":{"type":"function","function":{"fnCustomSet":"() => {}","type":"function"},"action":{}}},"allowTypes":false,"data":{"options":{"state":{"id":"","type":"IGRPOptionsProps[]","name":"select{{id}}Options","defaultValue":"[]","imports":[],"generate":true}}},"properties":{"label":"Estado","variant":"single","placeholder":"Select an option...","selectLabel":"No option found","showSearch":true,"iconProperties":{"showIcon":false,"iconName":"CornerDownRight"},"dataProperties":{"isVirtual":false,"isType":true},"commonProperties":{"generateReference":false},"options":[]},"childProperties":{}},{"id":"switch_2awvdl","tag":"switch2","componentName":"switch","label":"Switch","type":"group","children":[],"interactions":{"checked":{"type":"function","function":{"type":"function"},"action":{}},"onCheckedChange":{"type":"function","function":{"type":"function"},"action":{}}},"allowTypes":false,"data":{},"properties":{"label":"Vistoria Obrigatória","gridSize":"full","commonProperties":{"generateReference":false},"helperText":"Requer vistoria técnoca"},"childProperties":{}},{"id":"switch_c3vkzx","tag":"switch1","componentName":"switch","label":"Switch","type":"group","children":[],"interactions":{"checked":{"type":"function","function":{"type":"function"},"action":{}},"onCheckedChange":{"type":"function","function":{"type":"function"},"action":{}}},"allowTypes":false,"data":{},"properties":{"label":"Licença de Retalho","gridSize":"full","commonProperties":{"generateReference":false},"helperText":"Venda de bebidas alcoólicas"},"childProperties":{}}],"interactions":{},"allowTypes":false,"data":{},"properties":{"gap":4,"variant":{"default":"cols1","md":"cols2","lg":"cols3"},"commonProperties":{"generateReference":false}},"childProperties":{"className":"col-span-1"}}],"interactions":{},"allowTypes":false,"data":{},"properties":{"spaceX":"3","spaceY":"3","commonProperties":{}}},{"id":"cardfooter_5m23vm","tag":"cardFooter1","componentName":"cardFooter","label":"Card Footer","children":[],"interactions":{},"allowTypes":false,"data":{},"properties":{"commonProperties":{}}}],"interactions":{},"allowTypes":false,"data":{},"properties":{"commonProperties":{}}}],"interactions":{"onSubmit":{"type":"function","function":{"fnCustomSet":"(e) => {}","type":"function","fnCustomCode":{"imports":[]},"fnName":"handleCreateOrUpdateEstablishment"},"action":{}}},"allowTypes":true,"data":{"defaultValues":{"state":{"id":"408tbixkgx","type":"any","name":"form1Data","defaultValue":"initForm1","imports":[],"generate":true}}},"properties":{"validationMode":"onBlur","gridClassName":"","commonProperties":{"generateReference":false}},"childProperties":{},"dataType":"form1"}],"tag":"component2","data":{},"interactions":{"onLoad":{"type":"function","function":{"type":"function","fnCustomCode":{"imports":[{"id":"import_Rue19t","namespace":"import { useRouter } from \"next/navigation\""},{"namespace":"import {useEstablishmentConfiguration} from '@/app/(myapp)/hooks/establishment'","id":"ol9f3ee349"}],"fnCode":"const router = useRouter()\nconst {isLoading, isError, establishmentStatusOptions, activityTypesOptions, classesTypesOptions} = useEstablishmentConfiguration();\n\nuseEffect(() => {\n  if(isLoading)return\n  setSelectestadoDescOptions(\n    (establishmentStatusOptions || []).map(opt => ({\n      ...opt,\n      label: opt.label ?? opt.value // fallback if label is missing\n    }))\n  )\n  setSelecttipoAtividadeIdOptions(\n    (activityTypesOptions || []).map(opt => ({\n      ...opt,\n      label: opt.name ?? opt.value // fallback if label is missing\n    }))\n  )\n  setSelectclasseIdOptions(\n    (classesTypesOptions || []).map(opt => ({\n      ...opt,\n      label: opt.name ?? opt.value // fallback if label is missing\n    }))\n  )\n\n},[isLoading])\n\nuseEffect(() => {\n  if (initialData)\n    setForm1Data(initialData)\n}, [initialData])\n\nuseEffect(() => {\n  if (isSubmitting) {\n    formform1Ref.current?.submit();\n    onAfterSubmit?.();\n  }\n}, [isSubmitting, onAfterSubmit]);"}},"action":{}}},"childProperties":{}},"functions":[{"id":"fnc_DcI69J","name":"handleCreateOrUpdateEstablishment","code":"try{\n  await createOrUpdateEstablishment({...initialData, ...values});\n  igrpToast({\n  type: \"success\",\n  title: \"Sucsess\",\n  description: \"Establishment created successfully\",\n})\n}catch(error: any) {\n  igrpToast({\n  type: \"error\",\n  title: \"\",\n  description: `An error occurred while processing the form. [${error.message}]`,\n});\nconsole.error(error)\n}","returnValue":{"type":"void","isNullable":true,"isList":false},"imports":[{"namespace":"import {createOrUpdateEstablishment} from '@/app/(myapp)/functions/establishment'","id":"94dev2dynz"}],"isAsync":true,"arguments":[{"id":"1","name":"values","type":"z.infer<any>","isList":false,"isOptional":false,"isInterface":false,"isFunction":false,"isState":false,"functionParameters":[]}]}],"types":[{"componentId":"form_6iuo81","name":"form1","path":"","fields":[{"componentId":"inputtext_96wez9","name":"codigo","type":"string","required":false,"defaultValue":""},{"componentId":"inputtext_iwrvyx","name":"nome","type":"string","required":false,"defaultValue":""},{"componentId":"combobox_ndgxzj","name":"tipoAtividadeId","type":"string","required":false,"defaultValue":""},{"componentId":"combobox_0cdu3r","name":"classeId","type":"string","required":false,"defaultValue":""},{"componentId":"inputtext_urqkbg","name":"endereco","type":"string","required":false,"defaultValue":""},{"componentId":"inputtext_90xyup","name":"telefone","type":"string","required":false,"defaultValue":""},{"componentId":"inputtext_uuwtkh","name":"email","type":"string","required":false,"defaultValue":""},{"componentId":"inputtext_ki32sk","name":"nif","type":"string","required":false,"defaultValue":""},{"componentId":"combobox_mqqphu","name":"gerente","type":"string","required":false,"defaultValue":""},{"componentId":"combobox_sn9hc0","name":"estadoDesc","type":"string","required":false,"defaultValue":""}]}],"states":[],"imports":[]}